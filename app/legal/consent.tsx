import { Ionicons } from '@expo/vector-icons';
import { useRouter } from 'expo-router';
import React from 'react';
import { ScrollView, StyleSheet, Text, TouchableOpacity, View } from 'react-native';

export default function ConsentScreen() {
  const router = useRouter();

  return (
    <View style={styles.container}>
      {/* Header */}
      <View style={styles.header}>
        <TouchableOpacity onPress={() => router.back()} style={styles.backButton}>
          <Ionicons name="arrow-back" size={24} color="#000" />
        </TouchableOpacity>
        <Text style={styles.headerTitle}>Согласие на обработку данных</Text>
        <View style={{ width: 40 }} />
      </View>

      <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>
        <Text style={styles.title}>СОГЛАСИЕ НА ОБРАБОТКУ ПЕРСОНАЛЬНЫХ ДАННЫХ</Text>
        <Text style={styles.subtitle}>Мобильное приложение &ldquo;360Auto&rdquo;</Text>
        <Text style={styles.date}>Дата вступления в силу: 12 октября 2025 г.</Text>

        {/* Раздел 1 */}
        <Text style={styles.sectionTitle}>1. СОГЛАСИЕ НА ОБРАБОТКУ ПЕРСОНАЛЬНЫХ ДАННЫХ</Text>
        <Text style={styles.paragraph}>
          1.1. Регистрируясь в мобильном приложении &ldquo;360Auto&rdquo; (далее - &ldquo;Приложение&rdquo;), я, субъект 
          персональных данных, действуя своей волей и в своем интересе, даю согласие Обществу с 
          ограниченной ответственностью &ldquo;Супер Апп&rdquo; (ОСОО &ldquo;Супер Апп&rdquo;), ИНН 01905202010099 
          (далее - &ldquo;Оператор&rdquo;), на обработку моих персональных данных.
        </Text>
        <Text style={styles.paragraph}>
          1.2. Настоящее согласие дается в соответствии с Законом Кыргызской Республики 
          &ldquo;Об информации персонального характера&rdquo; от 14.04.2008 № 58 и другими нормативными 
          правовыми актами КР.
        </Text>

        {/* Раздел 2 */}
        <Text style={styles.sectionTitle}>2. ПЕРЕЧЕНЬ ПЕРСОНАЛЬНЫХ ДАННЫХ</Text>
        <Text style={styles.paragraph}>
          2.1. Я даю согласие на обработку следующих персональных данных:
        </Text>
        <Text style={styles.paragraph}>
          <Text style={styles.bold}>Обязательные данные:</Text>
          {'\n'}• Номер мобильного телефона
          {'\n'}• Имя и фамилия
          {'\n'}• IP-адрес
          {'\n'}• Данные об устройстве (модель, ОС)
          {'\n'}• Уникальный идентификатор устройства
        </Text>
        <Text style={styles.paragraph}>
          <Text style={styles.bold}>Дополнительные данные (при предоставлении):</Text>
          {'\n'}• Адрес электронной почты
          {'\n'}• Фотография профиля
          {'\n'}• Данные о местоположении (геолокация)
          {'\n'}• Информация об автомобилях (марка, модель, год, пробег, цена)
          {'\n'}• Фотографии и видео автомобилей
          {'\n'}• История просмотров и взаимодействий
        </Text>

        {/* Раздел 3 */}
        <Text style={styles.sectionTitle}>3. ЦЕЛИ ОБРАБОТКИ</Text>
        <Text style={styles.paragraph}>
          3.1. Я согласен(на) на обработку моих персональных данных в следующих целях:
          {'\n'}• Регистрация в Приложении
          {'\n'}• Идентификация и аутентификация
          {'\n'}• Предоставление доступа к функциям Приложения
          {'\n'}• Размещение объявлений о продаже автомобилей
          {'\n'}• Обеспечение коммуникации с другими пользователями
          {'\n'}• Отправка уведомлений и информационных сообщений
          {'\n'}• Улучшение качества услуг
          {'\n'}• Защита от мошенничества и злоупотреблений
          {'\n'}• Анализ использования Приложения
          {'\n'}• Исполнение обязательств по Пользовательскому соглашению
        </Text>

        {/* Раздел 4 */}
        <Text style={styles.sectionTitle}>4. ДЕЙСТВИЯ С ПЕРСОНАЛЬНЫМИ ДАННЫМИ</Text>
        <Text style={styles.paragraph}>
          4.1. Я даю согласие на совершение Оператором следующих действий с моими персональными 
          данными:
          {'\n'}• Сбор
          {'\n'}• Запись
          {'\n'}• Систематизация
          {'\n'}• Накопление
          {'\n'}• Хранение
          {'\n'}• Уточнение (обновление, изменение)
          {'\n'}• Извлечение
          {'\n'}• Использование
          {'\n'}• Передача (предоставление, доступ)
          {'\n'}• Обезличивание
          {'\n'}• Блокирование
          {'\n'}• Удаление
          {'\n'}• Уничтожение
        </Text>
        <Text style={styles.paragraph}>
          4.2. Обработка персональных данных может осуществляться как с использованием средств 
          автоматизации, так и без использования таких средств.
        </Text>

        {/* Раздел 5 */}
        <Text style={styles.sectionTitle}>5. СОГЛАСИЕ НА SMS-УВЕДОМЛЕНИЯ</Text>
        <Text style={styles.paragraph}>
          5.1. Я даю согласие на получение SMS-сообщений на указанный мной номер телефона, включая:
          {'\n'}• Код подтверждения для входа в Приложение
          {'\n'}• Уведомления о новых сообщениях
          {'\n'}• Уведомления о действиях с моими объявлениями
          {'\n'}• Важные системные уведомления
        </Text>
        <Text style={styles.paragraph}>
          5.2. Я понимаю, что SMS-сообщения отправляются через провайдера Nikita.kg для обеспечения 
          безопасности моей учетной записи.
        </Text>

        {/* Раздел 6 */}
        <Text style={styles.sectionTitle}>6. СОГЛАСИЕ НА PUSH-УВЕДОМЛЕНИЯ</Text>
        <Text style={styles.paragraph}>
          6.1. Я даю согласие на получение push-уведомлений на мое мобильное устройство, включая:
          {'\n'}• Уведомления о новых сообщениях в чате
          {'\n'}• Уведомления о комментариях под моими объявлениями
          {'\n'}• Уведомления об интересе к моим автомобилям
          {'\n'}• Системные уведомления
        </Text>
        <Text style={styles.paragraph}>
          6.2. Я могу в любой момент отключить push-уведомления в настройках устройства или Приложения.
        </Text>

        {/* Раздел 7 */}
        <Text style={styles.sectionTitle}>7. СОГЛАСИЕ НА ИСПОЛЬЗОВАНИЕ КАМЕРЫ И МЕДИАФАЙЛОВ</Text>
        <Text style={styles.paragraph}>
          7.1. Я даю согласие на доступ Приложения к камере моего устройства для:
          {'\n'}• Съемки фотографий и видео автомобилей
          {'\n'}• Создания фотографии профиля
        </Text>
        <Text style={styles.paragraph}>
          7.2. Я даю согласие на доступ к галерее моего устройства для загрузки фотографий и видео.
        </Text>
        <Text style={styles.paragraph}>
          7.3. Загруженные медиафайлы хранятся на защищенных серверах и обрабатываются через сервис 
          api.video для обеспечения качественного воспроизведения.
        </Text>

        {/* Раздел 8 */}
        <Text style={styles.sectionTitle}>8. СОГЛАСИЕ НА ПЕРЕДАЧУ ДАННЫХ</Text>
        <Text style={styles.paragraph}>
          8.1. Я даю согласие на передачу моих персональных данных третьим лицам в следующих случаях:
          {'\n'}• Провайдеру SMS-услуг (Nikita.kg) - для отправки SMS-сообщений
          {'\n'}• Сервису хранения видео (api.video) - для обработки и хранения видео
          {'\n'}• Платежным системам - для обработки платежей (при наличии)
          {'\n'}• Государственным органам КР - по их законному требованию
        </Text>
        <Text style={styles.paragraph}>
          8.2. Я понимаю, что Оператор гарантирует соблюдение конфиденциальности третьими лицами.
        </Text>

        {/* Раздел 9 */}
        <Text style={styles.sectionTitle}>9. СРОК ДЕЙСТВИЯ СОГЛАСИЯ</Text>
        <Text style={styles.paragraph}>
          9.1. Настоящее согласие действует с момента его предоставления и до момента его отзыва.
        </Text>
        <Text style={styles.paragraph}>
          9.2. Согласие действует в течение всего срока использования Приложения и 5 лет после 
          прекращения использования, либо до момента отзыва согласия.
        </Text>

        {/* Раздел 10 */}
        <Text style={styles.sectionTitle}>10. ПРАВО НА ОТЗЫВ СОГЛАСИЯ</Text>
        <Text style={styles.paragraph}>
          10.1. Я имею право отозвать настоящее согласие, направив письменное уведомление на адрес 
          Оператора или через функционал Приложения.
        </Text>
        <Text style={styles.paragraph}>
          10.2. Для отзыва согласия я могу:
          {'\n'}• Удалить свою учетную запись в настройках Приложения
          {'\n'}• Отправить запрос на email: ulan495@me.com
          {'\n'}• Позвонить по телефону: +996 779 728 888
        </Text>
        <Text style={styles.paragraph}>
          10.3. После отзыва согласия мои персональные данные будут удалены в течение 30 дней, 
          за исключением данных, хранение которых требуется законодательством КР.
        </Text>

        {/* Раздел 11 */}
        <Text style={styles.sectionTitle}>11. МОИ ПРАВА</Text>
        <Text style={styles.paragraph}>
          11.1. Я осведомлен(а) о своих правах:
          {'\n'}• Получать информацию об обработке моих персональных данных
          {'\n'}• Требовать уточнения моих данных
          {'\n'}• Требовать прекращения обработки
          {'\n'}• Требовать удаления моих данных
          {'\n'}• Обжаловать действия Оператора
          {'\n'}• Обратиться в суд для защиты своих прав
        </Text>

        {/* Раздел 12 */}
        <Text style={styles.sectionTitle}>12. ПОДТВЕРЖДЕНИЕ</Text>
        <Text style={styles.paragraph}>
          12.1. Я подтверждаю, что:
          {'\n'}• Ознакомлен(а) с Политикой конфиденциальности
          {'\n'}• Ознакомлен(а) с Пользовательским соглашением
          {'\n'}• Даю настоящее согласие добровольно
          {'\n'}• Понимаю последствия предоставления согласия
          {'\n'}• Понимаю последствия отзыва согласия
          {'\n'}• Достиг(ла) возраста 18 лет или имею согласие законного представителя
        </Text>
        <Text style={styles.paragraph}>
          12.2. Нажимая кнопку &ldquo;Принять&ldquo; или проставляя галочку согласия, я подтверждаю, что 
          предоставляю настоящее согласие на обработку моих персональных данных.
        </Text>

        {/* Раздел 13 */}
        <Text style={styles.sectionTitle}>13. КОНТАКТНАЯ ИНФОРМАЦИЯ ОПЕРАТОРА</Text>
        <Text style={styles.paragraph}>
          <Text style={styles.bold}>Оператор персональных данных:</Text>
          {'\n\n'}Общество с ограниченной ответственностью &ldquo;Супер Апп&ldquo;
          {'\n'}ИНН: 01905202010099
          {'\n'}Регистрационный номер: 190615-3301-ООО
          {'\n'}ОКПО: 30720909
          {'\n\n'}Юридический адрес:
          {'\n'}Кыргызская Республика, г. Бишкек, Октябрьский район,
          {'\n'}5 микрорайон, дом 63, квартира 28
          {'\n\n'}Директор: Гайыпов Уланбек Кимсанович
          {'\n\n'}Контакты для обращений:
          {'\n'}Email: ulan495@me.com
          {'\n'}Телефон: +996 779 728 888
          {'\n\n'}Режим работы: Пн-Пт, 9:00-18:00 (GMT+6)
        </Text>

        {/* Заключение */}
        <View style={styles.footer}>
          <Text style={styles.footerText}>
            Регистрируясь в Приложении &ldquo;360Auto&ldquo;, вы подтверждаете, что прочитали, поняли 
            и даете свое добровольное согласие на обработку персональных данных в соответствии 
            с указанными выше условиями.
          </Text>
        </View>
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#FFF',
  },
  header: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingHorizontal: 16,
    paddingTop: 60,
    paddingBottom: 16,
    backgroundColor: '#FFF',
    borderBottomWidth: 1,
    borderBottomColor: '#E5E5E5',
  },
  backButton: {
    padding: 8,
  },
  headerTitle: {
    fontSize: 16,
    fontWeight: '600',
    color: '#000',
    flex: 1,
    textAlign: 'center',
  },
  content: {
    flex: 1,
    padding: 20,
  },
  title: {
    fontSize: 24,
    fontWeight: '700',
    color: '#000',
    textAlign: 'center',
    marginBottom: 8,
  },
  subtitle: {
    fontSize: 16,
    color: '#666',
    textAlign: 'center',
    marginBottom: 4,
  },
  date: {
    fontSize: 14,
    color: '#999',
    textAlign: 'center',
    marginBottom: 24,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: '700',
    color: '#000',
    marginTop: 24,
    marginBottom: 12,
  },
  paragraph: {
    fontSize: 15,
    color: '#333',
    lineHeight: 24,
    marginBottom: 12,
  },
  bold: {
    fontWeight: '700',
  },
  footer: {
    backgroundColor: '#F5F5F5',
    padding: 16,
    borderRadius: 8,
    marginTop: 32,
    marginBottom: 40,
  },
  footerText: {
    fontSize: 14,
    color: '#666',
    textAlign: 'center',
    lineHeight: 20,
  },
});

