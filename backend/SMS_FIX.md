# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï SMS - –î–ï–¢–ê–õ–¨–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞** –æ—Ç nikita.kg
4. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –¥–≤–æ–π–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
5. **–î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SMS

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨:

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ `backend/.env` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å:

```bash
# SMS Configuration (smspro.nikita.kg)
NIKITA_SMS_LOGIN=superapp
NIKITA_SMS_PASSWORD=83fb772ee0799a422cce18ffd5f497b9
NIKITA_SMS_SENDER=bat-bat.kg
NIKITA_SMS_API_URL=https://smspro.nikita.kg/api/message

# –ò–õ–ò –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏–º–µ–Ω–∞:
SMS_LOGIN=superapp
SMS_PASSWORD=83fb772ee0799a422cce18ffd5f497b9
SMS_SENDER=bat-bat.kg
SMS_API_URL=https://smspro.nikita.kg/api/message
```

### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã

**–í–ê–ñ–ù–û:** –í `development` —Ä–µ–∂–∏–º–µ SMS –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ!

```bash
# –î–ª—è –†–ï–ê–õ–¨–ù–û–ô –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
NODE_ENV=production
```

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
cd backend
npm run check-sms
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   URL: https://smspro.nikita.kg/api/message
   Login: superapp
   Sender: bat-bat.kg
   Mode: production
```

### –®–ê–ì 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥

```bash
cd backend
npm run dev
```

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   URL: https://smspro.nikita.kg/api/message
   Login: superapp
   Sender: bat-bat.kg
   Mode: production
```

### –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ SMS

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å SMS –≤ –ª–æ–≥–∞—Ö –±—ç–∫–µ–Ω–¥–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
[AuthAPI] Request code for phone: +996...
[AuthService] requestSmsCode called with phone: +996...
[AuthService] Formatted phone: +996...
[AuthService] Generated code: 1234
[AuthService] Code stored in database, sending SMS...
[AuthService] Phone for SMS (without +): 996...
[SMS] sendSms called with phone: 996...
[SMS] Normalized phone: 996...
[SMS] Response from nikita.kg: { status: 200, ... }
[SMS] SMS —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!
[AuthService] SMS result: { success: true, ... }
```

## üêõ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú:

### –ü—Ä–æ–±–ª–µ–º–∞: "SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ `backend/.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `backend/`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`

### –ü—Ä–æ–±–ª–µ–º–∞: "–í development —Ä–µ–∂–∏–º–µ SMS –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ `backend/.env`:
```bash
NODE_ENV=production
```

### –ü—Ä–æ–±–ª–µ–º–∞: "HTTP error" –∏–ª–∏ "–¢–∞–π–º–∞—É—Ç"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `NIKITA_SMS_API_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ nikita.kg
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Å—á–µ—Ç—É nikita.kg –µ—Å—Ç—å –±–∞–ª–∞–Ω—Å

### –ü—Ä–æ–±–ª–µ–º–∞: "–û—Ç–ø—Ä–∞–≤–∫–∞ SMS —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –∫—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω—Å–∫–∏–µ –Ω–æ–º–µ—Ä–∞"

**–†–µ—à–µ–Ω–∏–µ:**
–ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
- `+996XXXXXXXXX`
- `996XXXXXXXXX`
- `0XXXXXXXXX` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è)

## üìû –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `+996555123456`)
3. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
5. –í production —Ä–µ–∂–∏–º–µ SMS –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
6. –í development —Ä–µ–∂–∏–º–µ –∫–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö –∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## üîç –õ–û–ì–ò –î–õ–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:

–í—Å–µ –ª–æ–≥–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞:
- `[AuthAPI]` - API endpoint
- `[AuthService]` - –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `[SMS]` - SMS —Å–µ—Ä–≤–∏—Å

–ò—â–∏—Ç–µ —ç—Ç–∏ –ø—Ä–µ—Ñ–∏–∫—Å—ã –≤ –ª–æ–≥–∞—Ö –±—ç–∫–µ–Ω–¥–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º.

