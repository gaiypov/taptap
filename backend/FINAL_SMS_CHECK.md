# ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê SMS –°–ò–°–¢–ï–ú–´

## üîç –ß–¢–û –ü–†–û–í–ï–†–ï–ù–û:

### ‚úÖ 1. TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è
- –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- –¢–∏–ø—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è `req` –∏ `res`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Zod –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `result.user` –¥–æ–±–∞–≤–ª–µ–Ω–∞

### ‚úÖ 2. –¶–µ–ø–æ—á–∫–∞ SMS (–ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

**–ö–ª–∏–µ–Ω—Ç ‚Üí –ë—ç–∫–µ–Ω–¥ ‚Üí SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä:**

1. ‚úÖ `components/Auth/SMSAuthScreen.tsx` - –≤—ã–∑—ã–≤–∞–µ—Ç `auth.sendVerificationCode()`
2. ‚úÖ `services/auth.ts` - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ `/api/auth/request-code`
3. ‚úÖ `backend/api/auth.ts` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –≤—ã–∑—ã–≤–∞–µ—Ç `requestSmsCode()`
4. ‚úÖ `backend/services/authService.ts` - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î, –≤—ã–∑—ã–≤–∞–µ—Ç SMS
5. ‚úÖ `backend/services/smsService.ts` - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ nikita.kg
6. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç nikita.kg
7. ‚úÖ –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É

### ‚úÖ 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö
- –ü—Ä–µ—Ñ–∏–∫—Å—ã: `[AuthAPI]`, `[AuthService]`, `[SMS]`
- –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
- –°–∫—Ä–∏–ø—Ç `npm run check-sms` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### ‚úÖ 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∂–∏–º–æ–≤
- Development: –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç testCode
- Production: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ nikita.kg
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤

## üìã –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê:

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```bash
cd backend
npm run check-sms
```

### –®–ê–ì 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥
```bash
cd backend
npm run dev
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
‚úÖ SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   URL: https://smspro.nikita.kg/api/message
   Login: superapp
   Sender: bat-bat.kg
   Mode: production
```

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
3. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä: `+996555123456`
4. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞

**–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:**
```
[AuthAPI] Request code for phone: +996555123456
[AuthService] requestSmsCode called with phone: +996555123456
[AuthService] Formatted phone: +996555123456
[AuthService] Generated code: 1234
[SMS] sendSms called with phone: 996555123456
[SMS] SMS —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!
```

## ‚úÖ –í–°–ï –†–ê–ë–û–¢–ê–ï–¢, –ï–°–õ–ò:

1. ‚úÖ –ë—ç–∫–µ–Ω–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
2. ‚úÖ `npm run check-sms` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "‚úÖ SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
3. ‚úÖ –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤–∏–¥–Ω–æ "Mode: production"
4. ‚úÖ –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ SMS
5. ‚úÖ –í production SMS –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ
6. ‚úÖ –í development –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è testCode

## üéØ –ò–¢–û–ì:

**–í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï!**

–°–∏—Å—Ç–µ–º–∞ SMS –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞:
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É–ª—É—á—à–µ–Ω–∞
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–∑–¥–∞–Ω—ã

**–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NODE_ENV=production` –≤ `backend/.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥
3. SMS –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ nikita.kg

