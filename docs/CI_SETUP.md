# CI/CD Pipeline Setup Guide

## üöÄ GitHub Actions CI Pipeline

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–æ–≥–∏–π CI/CD pipeline –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ Silicon Valley —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤.

### üìÅ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- `.github/workflows/ci.yml` - –û—Å–Ω–æ–≤–Ω–æ–π CI workflow
- `.prettierrc` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prettier
- `.prettierignore` - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Prettier

### ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç CI

1. **ESLint** - –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (0 warnings allowed)
2. **TypeScript** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
3. **Backend TypeScript** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–ª—è backend
4. **Prettier** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. **Expo Router** - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

### üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

#### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# ESLint
npm run lint

# ESLint (—Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º - 0 warnings)
npm run lint:strict

# TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run typecheck

# Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm run format

# Prettier –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run format:check
```

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prettier (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prettier –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
npm install --save-dev prettier
```

### üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Branch Protection

–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Branch Protection Rules –≤ GitHub:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Branches**
2. –ù–∞–∂–º–∏—Ç–µ **Add Branch Protection Rule**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫–∏: `main` –∏ `dev`
4. –í–∫–ª—é—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ü–∏–∏:

   - ‚òë **Require status checks to pass before merging**
     - –í—ã–±–µ—Ä–∏—Ç–µ: `lint-and-typecheck`
   
   - ‚òë **Require branches to be up to date before merging**
   
   - ‚òë **Require pull request reviews before merging**
     - –ú–∏–Ω–∏–º—É–º: 1 approval
   
   - ‚òë **Do not allow bypassing the above settings**
   
   - ‚òë **Include administrators**

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- ‚úÖ –õ—é–±–∞—è –æ—à–∏–±–∫–∞ ESLint ‚Üí PR –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –õ—é–±–æ–π TS warning ‚Üí PR –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è  
- ‚úÖ –õ—é–±–æ–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç ‚Üí PR –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –õ—é–±–æ–π dead code ‚Üí PR –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –õ—é–±–∞—è –æ—à–∏–±–∫–∞ –≤ backend —Ç–∏–ø–∞—Ö ‚Üí PR –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –õ—é–±–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å expo-router ‚Üí PR –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

### üö® –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ CI –ø–∞–¥–∞–µ—Ç

1. **ESLint –æ—à–∏–±–∫–∏:**
   ```bash
   npm run lint
   # –ò—Å–ø—Ä–∞–≤—å—Ç–µ –≤—Å–µ –æ—à–∏–±–∫–∏
   ```

2. **TypeScript –æ—à–∏–±–∫–∏:**
   ```bash
   npm run typecheck
   # –ò—Å–ø—Ä–∞–≤—å—Ç–µ –≤—Å–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤
   ```

3. **Backend –æ—à–∏–±–∫–∏:**
   ```bash
   cd backend
   npx tsc --noEmit
   # –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ backend –∫–æ–¥–µ
   ```

4. **Prettier –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω):**
   ```bash
   npm run format
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   ```

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- CI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –∫–∞–∂–¥—ã–π push –≤ `dev` –∏–ª–∏ `main`
- CI —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π Pull Request
- –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ –¥–ª—è —Å–ª–∏—è–Ω–∏—è PR
- Prettier –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç CI

