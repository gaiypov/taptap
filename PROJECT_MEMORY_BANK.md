# üß† 360AutoMVP - Memory Bank –¥–ª—è AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

> Comprehensive —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞  
> –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-10-14  
> –í–µ—Ä—Å–∏—è: 2.1 (—Å Listings System + Business Accounts)

---

## üéØ –°–£–¢–¨ –ü–†–û–ï–ö–¢–ê

**360AutoMVP** - –º–æ–±–∏–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏ –ª–æ—à–∞–¥–µ–π —Å:
- üì± TikTok-—Å—Ç–∏–ª—å –≤–∏–¥–µ–æ –ª–µ–Ω—Ç–æ–π
- ü§ñ AI –∞–Ω–∞–ª–∏–∑–æ–º (–∞–≤—Ç–æ–º–æ–±–∏–ª–∏ + –ª–æ—à–∞–¥–∏)
- üé• –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π api.video
- üí¨ Real-time —á–∞—Ç–∞–º–∏
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–π

**–ì–ª–∞–≤–Ω–∞—è —Ñ–∏—à–∫–∞**: –ü—Ä–æ–¥–∞–≤–µ—Ü —Å–Ω–∏–º–∞–µ—Ç 360¬∞ –≤–∏–¥–µ–æ ‚Üí AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ‚Üí –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (90 –¥–Ω–µ–π / 14 –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏)

---

## üìä –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö

### Frontend (React Native)
```
React Native: 0.81.4
Expo: ~54.0.13
TypeScript: 5.9.2
React: 19.1.0
Expo Router: 6.0.11 (file-based routing)
```

**–ö–ª—é—á–µ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `@supabase/supabase-js` - Backend
- `expo-av` - Video playback
- `expo-camera` - Video recording
- `@api.video/nodejs-client` - Video hosting
- `expo-image-picker` - –ì–∞–ª–µ—Ä–µ—è
- `expo-linear-gradient` - UI —ç—Ñ—Ñ–µ–∫—Ç—ã

### Backend (Node.js + Express)
```
Node.js: 18+
Express: 4.18.2
TypeScript: 5.3.3
JWT: jsonwebtoken 9.0.2
```

**Middleware:**
- `helmet` - Security
- `cors` - Cross-origin
- `compression` - Response compression
- `express-rate-limit` - Rate limiting

### Database & Storage
```
Supabase (PostgreSQL): 2.75.0
Supabase Storage: Videos, Images, Avatars
Real-time: Supabase Realtime
```

### AI & Services
```
Claude (Anthropic) - AI –∞–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π/–ª–æ—à–∞–¥–µ–π
OpenAI GPT-4 Vision - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑
Google Vision API - –î–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
api.video - Video hosting & streaming
SMS Pro API - SMS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```

### DevOps
```
Supabase Edge Functions (Deno)
pg_cron - Scheduled tasks
Git - Version control
```

---

## üóÇÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
360AutoMVP/
‚îú‚îÄ‚îÄ app/                      # Expo Router pages
‚îÇ   ‚îú‚îÄ‚îÄ (tabs)/              # Tab navigation screens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx        # Feed (–≥–ª–∞–≤–Ω–∞—è –ª–µ–Ω—Ç–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ upload.tsx       # –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.tsx       # –ü–æ–∏—Å–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages.tsx     # –ß–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile.tsx      # –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ car/[id].tsx         # –î–µ—Ç–∞–ª–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ seller/[id].tsx      # –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ index-with-categories.tsx  # –ù–æ–≤–∞—è –ª–µ–Ω—Ç–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
‚îú‚îÄ‚îÄ components/              # React Native –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Cars/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ
‚îÇ   ‚îú‚îÄ‚îÄ Feed/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryTabs.tsx       # –¢–∞–±—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ListingVideoPlayer.tsx # –ü–ª–µ–µ—Ä –¥–ª—è listings
‚îÇ   ‚îú‚îÄ‚îÄ Listing/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–∏—Å—Ç–∏–Ω–≥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SoldButton.tsx         # –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–∞–Ω–æ"
‚îÇ   ‚îî‚îÄ‚îÄ VideoFeed/          # –í–∏–¥–µ–æ –ª–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ ai.ts              # AI –∞–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ aiHorse.ts         # AI –∞–Ω–∞–ª–∏–∑ –ª–æ—à–∞–¥–µ–π (–ù–û–í–û–ï)
‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts        # Supabase API
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts            # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ video.ts           # Video –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ backend/               # Backend API
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze.ts    # AI endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts       # Auth endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ listings.ts   # Listings CRUD (–ù–û–í–û–ï)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ consents.ts   # GDPR
‚îÇ   ‚îú‚îÄ‚îÄ middleware/       # Express middleware
‚îÇ   ‚îî‚îÄ‚îÄ server.ts         # Main server
‚îú‚îÄ‚îÄ supabase/             # Supabase functions
‚îÇ   ‚îî‚îÄ‚îÄ functions/
‚îÇ       ‚îî‚îÄ‚îÄ cleanup-listings/  # Auto cleanup (–ù–û–í–û–ï)
‚îú‚îÄ‚îÄ types/                # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ index.ts         # –í—Å–µ —Ç–∏–ø—ã (–≤–∫–ª—é—á–∞—è Listing, HorseDetails)
‚îî‚îÄ‚îÄ scripts/             # Utility scripts
    ‚îî‚îÄ‚îÄ migrate-to-listings.ts  # Migration script
```

### –í–∞–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª—ã
```
app.json                 # Expo configuration + API keys
package.json            # Dependencies
tsconfig.json           # TypeScript config
.env                    # Environment variables (–Ω–µ –≤ git)
eas.json                # EAS Build configuration
```

---

## üóÑÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –¢–ê–ë–õ–ò–¶–´ (Supabase PostgreSQL)

#### 1. **users** (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
```sql
id: UUID (PK)
phone: TEXT (UNIQUE) - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
name: TEXT - –ò–º—è
avatar_url: TEXT - URL –∞–≤–∞—Ç–∞—Ä–∞
is_verified: BOOLEAN - –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
is_blocked: BOOLEAN - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
rating: DECIMAL(3,2) - –†–µ–π—Ç–∏–Ω–≥ 0-5
total_sales: INTEGER - –í—Å–µ–≥–æ –ø—Ä–æ–¥–∞–∂
total_purchases: INTEGER - –í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫
created_at, updated_at, last_login_at
```

#### 2. **listings** (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è) ‚≠ê –ù–û–í–û–ï
```sql
id: UUID (PK)
category: TEXT ('car' | 'horse') - –ö–∞—Ç–µ–≥–æ—Ä–∏—è
seller_id: UUID (FK ‚Üí users)
video_id: TEXT - api.video ID
video_url: TEXT - Streaming URL
thumbnail_url: TEXT
title: TEXT
description: TEXT
price: DECIMAL(12,2)
city: TEXT
location: TEXT
status: TEXT ('active' | 'sold' | 'archived' | 'expired')
created_at, updated_at
sold_at: TIMESTAMP - –î–∞—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏
expires_at: TIMESTAMP - created_at + 90 –¥–Ω–µ–π (auto)
delete_at: TIMESTAMP - sold_at + 14 –¥–Ω–µ–π (auto)
likes, views, shares, saves, messages_count: INTEGER
ai_score: DECIMAL(3,2) - 0.00-1.00
ai_condition: TEXT ('excellent' | 'good' | 'fair' | 'poor')
ai_tags: JSONB
ai_analysis_text: TEXT
ai_estimated_price: JSONB - {min: number, max: number}
details: JSONB - –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
is_promoted, boost_type, boost_expires_at, boost_activated_at
views_before_boost: INTEGER
```

**details –¥–ª—è car:**
```json
{
  "brand": "Toyota",
  "model": "Camry",
  "year": 2020,
  "mileage": 45000,
  "transmission": "automatic",
  "fuel_type": "petrol",
  "color": "white",
  "body_type": "sedan",
  "condition": "excellent",
  "additional_images": ["url1", "url2"],
  "ai_damages": [...],
  "ai_features": [...]
}
```

**details –¥–ª—è horse:**
```json
{
  "breed": "–ê—Ö–∞–ª—Ç–µ–∫–∏–Ω—Å–∫–∞—è",
  "age": 5,
  "gender": "mare",
  "color": "–≥–Ω–µ–¥–∞—è",
  "height": 160,
  "training": "trained",
  "purpose": "riding",
  "pedigree": true,
  "health_certificate": true,
  "temperament": "—Å–ø–æ–∫–æ–π–Ω–∞—è",
  "vaccinations": ["–≥—Ä–∏–ø–ø", "—Å—Ç–æ–ª–±–Ω—è–∫"],
  "achievements": ["1 –º–µ—Å—Ç–æ - —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è 2024"]
}
```

#### 3. **business_accounts** (–ë–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç—ã) ‚≠ê –ù–û–í–û–ï
```sql
id: UUID (PK)
user_id: UUID (FK ‚Üí users) UNIQUE
tier: TEXT ('free' | 'lite' | 'business' | 'pro') - –¢–∞—Ä–∏—Ñ
company_name, company_logo_url, company_description: TEXT
company_phone, company_email, company_website: TEXT
company_address, business_type: TEXT
working_hours: JSONB
is_verified: BOOLEAN - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è PRO
verification_documents: TEXT[]
verification_status: TEXT ('pending' | 'approved' | 'rejected')
subscription_started_at, subscription_ends_at: TIMESTAMP
trial_ends_at: TIMESTAMP
is_trial, auto_renew: BOOLEAN
active_listings_count, max_listings: INTEGER
team_members_count, max_team_members: INTEGER
created_at, updated_at: TIMESTAMP
```

**–¢–∞—Ä–∏—Ñ—ã:**
- **FREE:** 2-2-1 (–∞–≤—Ç–æ/–ª–æ—à–∞–¥–∏/–Ω–µ–¥–≤–∏–∂–∫–∞), 0 —Å–æ–º
- **–õ–ê–ô–¢:** 10 –æ–±—ä—è–≤–ª–µ–Ω–∏–π, 300 —Å–æ–º/–º–µ—Å, Boost -20%
- **–ë–ò–ó–ù–ï–°:** 30 –æ–±—ä—è–≤–ª–µ–Ω–∏–π, 500 —Å–æ–º/–º–µ—Å, –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç +20%, Boost -30%
- **–ü–†–û–§–ò:** –ë–µ–∑–ª–∏–º–∏—Ç, 1500 —Å–æ–º/–º–µ—Å, –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç +50%, Boost -50%, –ë–∞–Ω–Ω–µ—Ä—ã

#### 4. **team_members** (–ö–æ–º–∞–Ω–¥–∞ –±–∏–∑–Ω–µ—Å–∞) ‚≠ê –ù–û–í–û–ï
```sql
id: UUID (PK)
business_id: UUID (FK ‚Üí business_accounts)
user_id: UUID (FK ‚Üí users)
role: TEXT ('owner' | 'admin' | 'manager')
invited_at, accepted_at: TIMESTAMP
UNIQUE(business_id, user_id)
```

#### 5. **cars** (–°—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è)
```sql
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ listings –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ listings
```

#### 4. **likes, saves** (–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è)
```sql
user_id: UUID (FK)
listing_id/car_id: UUID (FK)
created_at: TIMESTAMP
UNIQUE(user_id, listing_id)
```

#### 5. **conversations** (–ß–∞—Ç—ã)
```sql
id: UUID (PK)
car_id: UUID (FK)
buyer_id: UUID (FK)
seller_id: UUID (FK)
last_message: TEXT
last_message_at: TIMESTAMP
is_active: BOOLEAN
```

#### 6. **messages** (–°–æ–æ–±—â–µ–Ω–∏—è)
```sql
id: UUID (PK)
conversation_id: UUID (FK)
sender_id: UUID (FK)
message: TEXT
message_type: TEXT ('text' | 'image' | 'offer')
offer_amount: DECIMAL
is_read: BOOLEAN
created_at: TIMESTAMP
```

### –§–£–ù–ö–¶–ò–ò (SQL)

#### –î–ª—è listings:
```sql
increment_listing_views(UUID) - +1 view
increment_listing_likes(UUID) - +1 like
decrement_listing_likes(UUID) - -1 like
get_trending_listings(category, period, limit) - –¢–æ–ø –ª–∏—Å—Ç–∏–Ω–≥–∏
migrate_cars_to_listings_safe() - –ú–∏–≥—Ä–∞—Ü–∏—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
auto_archive_sold_listings() - –ê–≤—Ç–æ-–∞—Ä—Ö–∏–≤–∞—Ü–∏—è (cron)
```

#### –î–ª—è cars (—Å—Ç–∞—Ä–æ–µ):
```sql
increment_views(UUID)
increment_likes(UUID)
decrement_likes(UUID)
```

### –¢–†–ò–ì–ì–ï–†–´

```sql
set_listing_expires - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç expires_at –ø—Ä–∏ INSERT
set_listing_delete - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç delete_at –ø—Ä–∏ UPDATE status='sold'
update_listing_timestamp - –û–±–Ω–æ–≤–ª—è–µ—Ç updated_at –ø—Ä–∏ –ª—é–±–æ–º UPDATE
```

### RLS –ü–û–õ–ò–¢–ò–ö–ò

```sql
"Anyone can view active listings" - –í—Å–µ –≤–∏–¥—è—Ç active
"Sellers can view own listings" - –í–ª–∞–¥–µ–ª–µ—Ü –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –≤ –ª—é–±–æ–º —Å—Ç–∞—Ç—É—Å–µ
"Authenticated users can create" - –°–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ auth
"Sellers can update/delete own" - –í–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å/—É–¥–∞–ª—è—Ç—å
```

### –ò–ù–î–ï–ö–°–´ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

```sql
idx_listings_category - –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
idx_listings_status - –ü–æ —Å—Ç–∞—Ç—É—Å—É
idx_listings_created_at - –ü–æ –¥–∞—Ç–µ (DESC)
idx_listings_delete_at - Partial index –¥–ª—è cron
idx_listings_expires_at - Partial index –¥–ª—è cron
idx_listings_details - GIN index –¥–ª—è JSONB –ø–æ–∏—Å–∫–∞
```

---

## üîÑ –ñ–ò–ó–ù–ï–ù–ù–´–ô –¶–ò–ö–õ –û–ë–™–Ø–í–õ–ï–ù–ò–Ø

### –û—Å–Ω–æ–≤–Ω–æ–π flow:
```
–°–û–ó–î–ê–ù–ò–ï
  ‚Üì
ACTIVE (–¥–æ 90 –¥–Ω–µ–π)
  ‚îú‚îÄ‚Üí SOLD (–ø—Ä–æ–¥–∞–≤–µ—Ü –Ω–∞–∂–∞–ª "–ü—Ä–æ–¥–∞–Ω–æ")
  ‚îÇ    ‚Üì (14 –¥–Ω–µ–π)
  ‚îÇ    ARCHIVED + –≤–∏–¥–µ–æ —É–¥–∞–ª–µ–Ω–æ
  ‚îÇ    ‚Üì
  ‚îÇ   (–º–æ–∂–Ω–æ —Ä–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π)
  ‚îÇ    ‚Üì
  ‚îÇ   ACTIVE
  ‚îÇ
  ‚îî‚îÄ‚Üí EXPIRED (90 –¥–Ω–µ–π –±–µ–∑ –ø—Ä–æ–¥–∞–∂–∏)
       ‚Üì
      (–º–æ–∂–Ω–æ —Ä–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é)
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞:

**–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏:**
```sql
expires_at = created_at + 90 –¥–Ω–µ–π (—Ç—Ä–∏–≥–≥–µ—Ä)
status = 'active'
```

**–ü—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ (POST /api/listings/:id/mark-sold):**
```sql
status = 'sold'
sold_at = NOW()
delete_at = NOW() + 14 –¥–Ω–µ–π (—Ç—Ä–∏–≥–≥–µ—Ä)
+ –í–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫ –Ω–∞ –≤–∏–¥–µ–æ (api.video metadata)
```

**–ß–µ—Ä–µ–∑ 14 –¥–Ω–µ–π (cron –∫–∞–∂–¥—ã–π —á–∞—Å):**
```sql
status = 'archived'
+ –í–∏–¥–µ–æ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ api.video
```

**–ß–µ—Ä–µ–∑ 90 –¥–Ω–µ–π (cron –∫–∞–∂–¥—ã–π —á–∞—Å):**
```sql
IF status = 'active' AND expires_at <= NOW()
  THEN status = 'expired'
```

**–†–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è (POST /api/listings/:id/reactivate):**
```sql
IF status = 'sold' AND delete_at > NOW()
  THEN status = 'active', sold_at = NULL, delete_at = NULL
```

---

## ü§ñ AI –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –î–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (services/ai.ts)

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (priority order):**
1. **Claude (Anthropic)** - –û—Å–Ω–æ–≤–Ω–æ–π, –ª—É—á—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
2. **OpenAI GPT-4 Vision** - Fallback
3. **Google Vision API** - –î–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
4. **YOLO** - –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. **Mock** - –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ API –∫–ª—é—á–µ–π

**–ü—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞:**
```typescript
1. extractFramesFromVideo(videoUri, maxFrames) 
   ‚Üí VideoFrame[] (base64)

2. analyzeWithClaude(frames, options)
   ‚Üí –ü—Ä–æ–º–ø—Ç: –†–∞—Å–ø–æ–∑–Ω–∞—Ç—å –º–∞—Ä–∫—É, –º–æ–¥–µ–ª—å, –≥–æ–¥, –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è, –æ—Ü–µ–Ω–∫–∞

3. Result: {
     brand, model, year,
     aiAnalysis: {
       condition: 'excellent' | 'good' | 'fair' | 'poor',
       conditionScore: 0-100,
       damages: Damage[],
       estimatedPrice: {min, max},
       features: string[]
     }
   }

4. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (TEST_CONFIG.ENABLE_CACHING)
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (services/ai/config.ts):**
```typescript
AI_CONFIG = {
  MAX_IMAGES_PER_ANALYSIS: 5,
  USE_MOCK: false,
  AVAILABLE_PROVIDERS: ['claude', 'openai', 'google']
}

TEST_CONFIG = {
  DAILY_LIMIT: 50,
  USE_SINGLE_IMAGE: true,
  ENABLE_CLAUDE: true,
  ENABLE_OPENAI: true,
  ENABLE_GOOGLE: true,
  ENABLE_YOLO: false,
  ENABLE_CACHING: true
}
```

### –î–ª—è –ª–æ—à–∞–¥–µ–π (services/aiHorse.ts) ‚≠ê –ù–û–í–û–ï

**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞:**
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ 15+ –ø–æ—Ä–æ–¥
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 7+ –º–∞—Å—Ç–µ–π
- –û—Ü–µ–Ω–∫–∞ —ç–∫—Å—Ç–µ—Ä—å–µ—Ä–∞
- Body Condition Score (BCS 1-9)
- –¢–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç

**–ü—Ä–æ—Ü–µ—Å—Å:**
```typescript
1. analyzeHorseVideo(videoUri, onProgress)
2. validateHorseVideoQuality() - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
3. analyzeHorseWithClaude/OpenAI/Google
4. Result: HorseAIAnalysis {
     is_horse: boolean,
     confidence: number,
     breed: "–ê—Ö–∞–ª—Ç–µ–∫–∏–Ω—Å–∫–∞—è" | "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è",
     color: "–≥–Ω–µ–¥–∞—è" | "–≤–æ—Ä–æ–Ω–∞—è" | ...,
     estimated_age: "young" | "adult" | "old",
     estimated_height: 150-170,
     visible_defects: string[],
     quality_score: 0-1,
     tags: string[],
     temperament: string
   }
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è –ª–æ—à–∞–¥–µ–π (excerpt):**
```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤–∏–¥–µ–æ –ª–æ—à–∞–¥–∏:
- –ü–æ—Ä–æ–¥—ã: –ê—Ö–∞–ª—Ç–µ–∫–∏–Ω—Å–∫–∞—è, –ê—Ä–∞–±—Å–∫–∞—è, –û—Ä–ª–æ–≤—Å–∫–∞—è, –§—Ä–∏–∑—Å–∫–∞—è...
- –ú–∞—Å—Ç–∏: –ì–Ω–µ–¥–∞—è, –í–æ—Ä–æ–Ω–∞—è, –°–µ—Ä–∞—è, –†—ã–∂–∞—è, –ü–µ–≥–∞—è...
- –û—Ü–µ–Ω–∫–∞ —ç–∫—Å—Ç–µ—Ä—å–µ—Ä–∞ –∏ —É–ø–∏—Ç–∞–Ω–Ω–æ—Å—Ç–∏ (BCS 1-9)
- –í–∏–¥–∏–º—ã–µ –¥–µ—Ñ–µ–∫—Ç—ã: —Ö—Ä–æ–º–æ—Ç–∞, —à—Ä–∞–º—ã...
```

---

## üì° API ENDPOINTS

### Backend (Express –Ω–∞ –ø–æ—Ä—Ç—É 3001)

#### Auth
```
POST /api/auth/login - SMS login
POST /api/auth/verify - Verify code
POST /api/auth/logout
GET  /api/auth/me
```

#### AI Analysis
```
POST /api/analyze-car - –ê–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–æ–±–∏–ª—è (frames[])
POST /api/quick-identify - –ë—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /api/validate-quality - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–∏–¥–µ–æ
GET  /api/analysis-status/:id - –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞
```

#### Listings ‚≠ê –ù–û–í–û–ï
```
GET    /api/listings?category=car&status=active&page=1&limit=20
GET    /api/listings/:id
POST   /api/listings/:id/mark-sold - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ–¥–∞–Ω–Ω–æ–µ
POST   /api/listings/:id/reactivate - –í–µ—Ä–Ω—É—Ç—å –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ
POST   /api/listings/:id/archive - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
```

#### Consents (GDPR)
```
POST /api/consents/record - –ó–∞–ø–∏—Å—å —Å–æ–≥–ª–∞—Å–∏—è
GET  /api/consents/:userId - –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≥–ª–∞—Å–∏—è
```

### Supabase Edge Functions (Deno)

```
POST /functions/v1/cleanup-listings
  ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è cron)
  Response: {
    success: boolean,
    soldArchived: number,
    expired: number,
    videosDeleted: number,
    errors: string[]
  }
```

---

## üé® UI/UX –ö–û–ú–ü–û–ù–ï–ù–¢–´

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### CategoryTabs.tsx ‚≠ê –ù–û–í–û–ï
```typescript
<CategoryTabs
  selectedCategory={'car' | 'horse'}
  onCategoryChange={(cat) => setCategory(cat)}
/>
```

#### ListingVideoPlayer.tsx ‚≠ê –ù–û–í–û–ï
```typescript
<ListingVideoPlayer
  listing={listing}  // Listing type
  isActive={boolean}
  onLike={(id) => ...}
  onSave={(id) => ...}
  onShare={(id) => ...}
/>

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç car/horse –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ñ—É
// Overlay "–ü–†–û–î–ê–ù–û" –¥–ª—è sold –æ–±—ä—è–≤–ª–µ–Ω–∏–π
```

#### SoldButton.tsx ‚≠ê –ù–û–í–û–ï
```typescript
<SoldButton
  listingId={string}
  status={ListingStatus}
  deleteAt={string | undefined}
  onStatusChange={() => refetch()}
/>

// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ UI –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤:
// - active: –∫–Ω–æ–ø–∫–∞ "–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ–¥–∞–Ω–Ω–æ–µ"
// - sold: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ + –∫–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ"
// - archived/expired: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–µ–π–¥–∂
```

#### VideoPlayer.tsx
```typescript
// –°—Ç–∞—Ä—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è cars
// –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ ListingVideoPlayer
```

---

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```typescript
// JWT —Ç–æ–∫–µ–Ω—ã
// SMS –∫–æ–¥—ã (TTL 5 –º–∏–Ω—É—Ç)
// Session persistence (AsyncStorage)
```

### RLS (Row Level Security)
```sql
// –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã RLS
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –ø—É–±–ª–∏—á–Ω—ã–µ
```

### API Rate Limiting
```typescript
// Express middleware
// 100 requests / 15 –º–∏–Ω—É—Ç —Å –æ–¥–Ω–æ–≥–æ IP
```

### Env Variables (–ù–ï –í GIT!)
```bash
SUPABASE_SERVICE_ROLE_KEY=secret
APIVIDEO_API_KEY=secret
GOOGLE_VISION_API_KEY=secret
CLAUDE_API_KEY=secret
OPENAI_API_KEY=secret
JWT_SECRET=secret
```

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### app.json (Expo)
```json
{
  "extra": {
    "EXPO_PUBLIC_SUPABASE_URL": "https://thqlfkngyipdscckbhor.supabase.co",
    "EXPO_PUBLIC_SUPABASE_ANON_KEY": "eyJ...",
    "EXPO_PUBLIC_API_VIDEO_KEY": "OhnRGcRvd7YS7H7TV6uwXRNgLvocjuAfGfR2qAebSKv",
    "GOOGLE_VISION_API_KEY": "AIzaSyCDq7xTy4yrPvBr5JjGNUEXaXZ70fVyJGg",
    "EXPO_PUBLIC_AI_MODE": "development",
    "EXPO_PUBLIC_USE_MOCK": "false"
  }
}
```

### Backend .env
```bash
NEXT_PUBLIC_SUPABASE_URL=https://thqlfkngyipdscckbhor.supabase.co
SUPABASE_SERVICE_ROLE_KEY=<secret>
APIVIDEO_API_KEY=<secret>
JWT_SECRET=<secret>
PORT=3001
NODE_ENV=development
```

---

## üöÄ DEPLOYMENT

### Frontend (Expo)
```bash
# Development
npx expo start

# Build
eas build --platform ios
eas build --platform android

# Submit
eas submit --platform ios
eas submit --platform android
```

### Backend (Node.js)
```bash
# Local
npm run dev

# Production
npm run build
npm start
```

### Supabase Edge Functions
```bash
supabase functions deploy cleanup-listings
supabase secrets set APIVIDEO_API_KEY=xxx
```

### Cron (pg_cron)
```sql
SELECT cron.schedule(
  'cleanup-listings-hourly',
  '0 * * * *',
  $$ ... $$
);
```

---

## üìö –í–ê–ñ–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- `QUICK_START.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `GUIDE_FOR_BEGINNERS.md` - –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
- `PROJECT_STATUS.md` - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- `LISTINGS_SYSTEM_COMPLETE.md` - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ listings ‚≠ê
- `LISTINGS_MIGRATION_GUIDE.md` - –ì–∞–π–¥ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ ‚≠ê
- `QUICK_START_LISTINGS.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç listings ‚≠ê

### API & –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- `AI_SERVICE_COMPLETE_GUIDE.md` - AI —Å–µ—Ä–≤–∏—Å—ã
- `APIVIDEO_INTEGRATION_GUIDE.md` - api.video
- `SUPABASE_KEYS_GUIDE.md` - Supabase setup
- `SMS_SETUP.md` - SMS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### Deployment:
- `DATABASE_DEPLOYMENT_GUIDE.md` - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `BACKEND_DEPLOYMENT_GUIDE.md` - Backend
- `EAS_CONFIGURATION_GUIDE.md` - Expo builds

### SQL –°—Ö–µ–º—ã:
- `supabase-complete-schema.sql` - –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞
- `supabase-listings-schema.sql` - –ù–æ–≤–∞—è listings —Å—Ö–µ–º–∞ ‚≠ê
- `supabase-cron-schedule.sql` - Cron –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ‚≠ê
- `supabase-complete-schema-apivideo.sql` - –° api.video

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –†–ï–®–ï–ù–ò–Ø –ü–†–û–ï–ö–¢–ê

### 1. –ü–æ—á–µ–º—É Listings –≤–º–µ—Å—Ç–æ Cars?
```
‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚úÖ –ï–¥–∏–Ω—ã–π API - –æ–¥–∏–Ω endpoint –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚úÖ –ì–∏–±–∫–æ—Å—Ç—å - JSONB details –¥–ª—è –ª—é–±—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
```

### 2. –ü–æ—á–µ–º—É api.video –≤–º–µ—Å—Ç–æ Supabase Storage?
```
‚úÖ HLS streaming - –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚úÖ CDN –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ thumbnails
‚úÖ Player SDK –∏–∑ –∫–æ—Ä–æ–±–∫–∏
```

### 3. –ü–æ—á–µ–º—É Expo Router?
```
‚úÖ File-based routing - –ø—Ä–æ—â–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚úÖ Deep linking –∏–∑ –∫–æ—Ä–æ–±–∫–∏
‚úÖ Type-safe routes
‚úÖ Shared layouts
```

### 4. –ü–æ—á–µ–º—É pg_cron –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞?
```
‚úÖ –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î
‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å - –≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ PostgreSQL
‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
```

### 5. –ü–æ—á–µ–º—É —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è expires_at/delete_at?
```
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç backend/frontend
```

---

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï ISSUES & WORKAROUNDS

### Issue 1: React Native Reanimated warnings
```typescript
// Workaround: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ development
LogBox.ignoreLogs(['Reanimated 2']);
```

### Issue 2: Metro bundler port conflict
```bash
# Workaround: Kill process
lsof -ti:8081 | xargs kill -9
npx expo start --clear
```

### Issue 3: Supabase Edge Function cold start
```typescript
// Workaround: Warming –∑–∞–ø—Ä–æ—Å—ã
// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQL —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```

### Issue 4: AI rate limits
```typescript
// Workaround: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ + fallback –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
TEST_CONFIG.ENABLE_CACHING = true
```

---

## üîÆ –ë–£–î–£–©–ò–ï –§–ò–ß–ò (TODO)

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- [ ] Push notifications (–∑–∞ 3 –¥–Ω—è –¥–æ —É–¥–∞–ª–µ–Ω–∏—è)
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–∞—Ö
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞
- [ ] Bulk operations (–º–∞—Å—Å–æ–≤–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è)
- [ ] –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- [ ] –ù–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, —Ç–µ—Ö–Ω–∏–∫–∞)
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- [ ] –®–∞–±–ª–æ–Ω—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- [ ] Scheduled –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- [ ] A/B testing
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏
- [ ] –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –∑–∞ –¥–µ–Ω—å–≥–∏

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ & –†–ï–°–£–†–°–´

### –°—É–ø–ø–æ—Ä—Ç —Å–µ—Ä–≤–∏—Å–æ–≤:
- Supabase: https://supabase.com/dashboard
- api.video: https://dashboard.api.video
- Expo: https://expo.dev
- Anthropic: https://console.anthropic.com

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- React Native: https://reactnative.dev/
- Expo Router: https://docs.expo.dev/router/introduction/
- Supabase: https://supabase.com/docs
- api.video: https://docs.api.video/

---

## üéì –û–ë–£–ß–ï–ù–ò–ï –ù–û–í–´–• –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–û–í

### –®–∞–≥ 1: –ü—Ä–æ—á–∏—Ç–∞—Ç—å
1. `README.md` - –û–±—â–∏–π overview
2. `QUICK_START.md` - –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
3. –≠—Ç–æ—Ç `PROJECT_MEMORY_BANK.md` - –ü–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
```bash
npm install
npx expo start
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Expo Go
```

### –®–∞–≥ 3: –ò–∑—É—á–∏—Ç—å –∫–æ–¥
1. `app/(tabs)/index.tsx` - –ì–ª–∞–≤–Ω–∞—è –ª–µ–Ω—Ç–∞
2. `services/supabase.ts` - API
3. `types/index.ts` - –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
4. `components/` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –®–∞–≥ 4: –°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–¥–∞—á—É
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ listings
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä –≤ –ø–æ–∏—Å–∫–µ
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

---

## üè¢ –°–ò–°–¢–ï–ú–ê –ë–ò–ó–ù–ï–°-–ê–ö–ö–ê–£–ù–¢–û–í

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.

### –¢–∞—Ä–∏—Ñ—ã

| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –û–±—ä—è–≤–ª–µ–Ω–∏—è | –ö–æ–º–∞–Ω–¥–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | Boost —Å–∫–∏–¥–∫–∞ |
|-------|------|------------|---------|-----------|--------------|
| FREE | 0 | 2-2-1* | 1 | - | - |
| –õ–ê–ô–¢ | 300‚ÇΩ | 10 | 1 | - | 20% |
| –ë–ò–ó–ù–ï–° | 500‚ÇΩ | 30 | 3 | +20% | 30% |
| –ü–†–û–§–ò | 1500‚ÇΩ | ‚àû | ‚àû | +50% | 50% |

*2 —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ / 2 –ª–æ—à–∞–¥–∏ / 1 –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å

### –§–∞–π–ª—ã
**SQL:**
- `supabase-business-accounts.sql` - –º–∏–≥—Ä–∞—Ü–∏—è

**–¢–∏–ø—ã:**
- `types/business.ts` - BusinessAccount, TierFeatures, TIER_CONFIGS

**–õ–æ–≥–∏–∫–∞:**
- `lib/business/check-limits.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
- `lib/business/tier-features.ts` - —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞—Ä–∏—Ñ–æ–≤
- `lib/algorithm/priority-boost.ts` - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ –ª–µ–Ω—Ç–µ

**UI:**
- `components/Business/UpgradeModal.tsx` - –º–æ–¥–∞–ª–∫–∞ upgrade
- `components/Business/TierSelector.tsx` - –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞
- `components/Business/BusinessBadge.tsx` - –∑–Ω–∞—á–æ–∫ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- `app/(business)/upgrade.tsx` - —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞

### –§—É–Ω–∫—Ü–∏–∏

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
```typescript
import { checkCreateListingLimit } from '@/lib/business/check-limits';

const limitCheck = await checkCreateListingLimit(userId, 'car');
if (!limitCheck.canCreate) {
  // –ü–æ–∫–∞–∑–∞—Ç—å UpgradeModal
  setUpgradeReason(limitCheck.reason);
  setShowUpgrade(true);
}
```

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ –ª–µ–Ω—Ç–µ
```typescript
import { applyBusinessPriority, loadBusinessAccounts } from '@/lib/algorithm/priority-boost';

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç—ã
const businessMap = await loadBusinessAccounts(supabase, userIds);

// –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
const withPriority = applyBusinessPriority(listings, businessMap);

// FREE: score * 1.0
// –ë–ò–ó–ù–ï–°: score * 1.2 (+20%)
// –ü–†–û–§–ò: score * 1.5 (+50%)
```

#### PRO –ë–∞–Ω–Ω–µ—Ä—ã
```typescript
import { insertProBanners } from '@/lib/algorithm/priority-boost';

// –í—Å—Ç–∞–≤–∏—Ç—å –±–∞–Ω–Ω–µ—Ä—ã –∫–∞–∂–¥–æ–µ 10-–µ –≤–∏–¥–µ–æ
const finalFeed = insertProBanners(sorted, proBanners);
```

### –¢—Ä–∏–≥–≥–µ—Ä—ã upgrade
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å UpgradeModal:

**FREE ‚Üí –õ–ê–ô–¢:**
- 3+ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- 3+ –ª–æ—à–∞–¥–∏
- 2+ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

**–õ–ê–ô–¢ ‚Üí –ë–ò–ó–ù–ï–°:**
- 10+ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

**–ë–ò–ó–ù–ï–° ‚Üí –ü–†–û–§–ò:**
- 30+ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

```typescript
import { shouldShowUpgradePrompt } from '@/lib/business/tier-features';

if (shouldShowUpgradePrompt(tier, activeCount)) {
  // –ü–æ–∫–∞–∑–∞—Ç—å modal
}
```

### SQL —Ñ—É–Ω–∫—Ü–∏–∏
- `can_create_listing(user_id, category)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è
- `update_business_listings_count()` - –∞–≤—Ç–æ—Å—á–µ—Ç—á–∏–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- `update_team_members_count()` - –∞–≤—Ç–æ—Å—á–µ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã

### Views
- `business_stats` - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `BUSINESS_ACCOUNTS_GUIDE.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `BUSINESS_ACCOUNTS_SUMMARY.md` - –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ
- `IMPLEMENTATION_COMPLETE_BUSINESS.md` - —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üí° –õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò –ü–†–û–ï–ö–¢–ê

### Code Style
```typescript
// 1. –í—Å–µ–≥–¥–∞ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞—Ç—å
const fetchListings = async (): Promise<Listing[]> => { ... }

// 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å type guards
if (isCarListing(listing)) {
  // TypeScript –∑–Ω–∞–µ—Ç —á—Ç–æ listing.details —ç—Ç–æ CarDetails
}

// 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
try {
  await supabase.from('listings').insert(data);
} catch (error) {
  console.error('Error:', error);
  Alert.alert('–û—à–∏–±–∫–∞', '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ');
}

// 4. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
setListings(prev => prev.map(l => 
  l.id === id ? { ...l, likes: l.likes + 1 } : l
));
await api.like(id); // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –ë–î
```

### Database
```sql
-- 1. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è WHERE/ORDER BY
CREATE INDEX idx_name ON table(column);

-- 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ partial indexes
CREATE INDEX idx_name ON table(column) WHERE condition;

-- 3. RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
ALTER TABLE table ENABLE ROW LEVEL SECURITY;

-- 4. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
BEGIN;
  UPDATE listings SET status = 'sold' WHERE id = $1;
  INSERT INTO notifications VALUES (...);
COMMIT;
```

### React Native
```typescript
// 1. useCallback –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
const handleLike = useCallback((id: string) => { ... }, []);

// 2. useMemo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const filtered = useMemo(() => 
  listings.filter(l => l.status === 'active'), 
  [listings]
);

// 3. FlatList –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
<FlatList
  data={listings}
  keyExtractor={item => item.id}
  renderItem={renderItem}
  onEndReached={loadMore}
  windowSize={5}
/>

// 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
<Image 
  source={{ uri }}
  resizeMode="cover"
  cachePolicy="memory-disk"
/>
```

---

## üîÑ CHANGELOG

### Version 2.0 (2025-10-13) - Listings System
```
‚ú® NEW:
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ listings (car + horse)
- AI –∞–Ω–∞–ª–∏–∑ –ª–æ—à–∞–¥–µ–π (services/aiHorse.ts)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- SoldButton –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ä–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π
- CategoryTabs –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- API endpoints –¥–ª—è mark-sold/reactivate
- Supabase Edge Function cleanup-listings
- pg_cron –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ
- –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç migrate-to-listings.ts

üîÑ CHANGED:
- –°—Ç–∞—Ç—É—Å 'deleted' ‚Üí 'archived'
- –°—Ç–∞—Ç—É—Å 'moderation'/'rejected' ‚Üí 'archived'
- ai_score —Ç–µ–ø–µ—Ä—å DECIMAL(3,2) –≤–º–µ—Å—Ç–æ INTEGER

üìö DOCS:
- LISTINGS_SYSTEM_COMPLETE.md
- LISTINGS_MIGRATION_GUIDE.md
- QUICK_START_LISTINGS.md
- PROJECT_MEMORY_BANK.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

### Version 1.0 (2024-12) - Initial Release
```
‚ú® Initial features:
- TikTok-style video feed
- AI car analysis
- Real-time chat
- Search & filters
- User profiles
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –î–õ–Ø AI –ê–°–°–ò–°–¢–ï–ù–¢–ê

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π:

- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `listings` –∏–ª–∏ —Å—Ç–∞—Ä–∞—è `cars`?
- [ ] –ö–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è: –Ω–æ–≤—ã–µ (active/sold/archived/expired) –∏–ª–∏ —Å—Ç–∞—Ä—ã–µ?
- [ ] –ù—É–∂–Ω–∞ –ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (car/horse)?
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ TypeScript —Ç–∏–ø—ã –∏–∑ `types/index.ts`?
- [ ] –ï—Å—Ç—å –ª–∏ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü?
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏?
- [ ] –ï—Å—Ç—å –ª–∏ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∏?
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ correct API endpoint (—Å—Ç–∞—Ä—ã–π vs –Ω–æ–≤—ã–π)?
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞?

---

## üîê –õ–û–ì–ò–ö–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò –ò USER FLOW

### Passwordless SMS –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **–¢–æ–ª—å–∫–æ SMS OTP** (–±–µ–∑ –ø–∞—Ä–æ–ª–µ–π)
- –ß–µ—Ä–µ–∑ Supabase Auth
- –ê–≤—Ç–æ-–≤—Ö–æ–¥ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ü–ï–†–ï–î –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∫–æ–¥–∞
- SMS —á–µ—Ä–µ–∑ SMS Pro API (Bat.Bat)

### –î–µ–π—Å—Ç–≤–∏—è –ë–ï–ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
‚ùå **–ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- –õ–∞–π–∫–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏  
- –°–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ–¥–∞–≤—Ü–∞–º
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

‚úÖ **–ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–µ–Ω—Ç—ã
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º

### –î–µ–π—Å—Ç–≤–∏—è –° –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π:
‚úÖ –í—Å—ë —á—Ç–æ –≤—ã—à–µ –ü–õ–Æ–°:
- –õ–∞–π–∫–∏ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –°–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ–¥–∞–≤—Ü–∞–º
- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –õ–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (i18n)
**–î–ª—è –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞:**
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
- **–î–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏:** –†—É—Å—Å–∫–∏–π üá∑üá∫, –ö—ã—Ä–≥—ã–∑—Å–∫–∏–π üá∞üá¨
- **–°–º–µ–Ω–∞ —è–∑—ã–∫–∞:** –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Custom hook `useTranslation` + AsyncStorage

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:**
```
lib/i18n/
‚îú‚îÄ‚îÄ config.ts                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª–µ–π
‚îú‚îÄ‚îÄ useTranslation.ts         # –•—É–∫ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ translations/
    ‚îú‚îÄ‚îÄ ru.ts                 # –†—É—Å—Å–∫–∏–π (default)
    ‚îú‚îÄ‚îÄ ky.ts                 # –ö—ã—Ä–≥—ã–∑—Å–∫–∏–π
    ‚îú‚îÄ‚îÄ uz.ts                 # –£–∑–±–µ–∫—Å–∫–∏–π
    ‚îú‚îÄ‚îÄ kk.ts                 # –ö–∞–∑–∞—Ö—Å–∫–∏–π
    ‚îî‚îÄ‚îÄ tj.ts                 # –¢–∞–¥–∂–∏–∫—Å–∫–∏–π
```

### Onboarding Flow
1. **Welcome Screen** - —Å–ª–∞–π–¥—ã –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. **Permissions Screen** - –∑–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
3. **Main Feed** - —Å—Ä–∞–∑—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

**–§–∞–π–ª—ã:**
- `app/(onboarding)/welcome.tsx`
- `app/(onboarding)/permissions.tsx`

### Auth Components
```
components/Auth/
‚îú‚îÄ‚îÄ PhoneInput.tsx          # –í–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
‚îú‚îÄ‚îÄ CodeInput.tsx           # –í–≤–æ–¥ SMS –∫–æ–¥–∞
‚îú‚îÄ‚îÄ LegalLinks.tsx          # –°—Å—ã–ª–∫–∏ –Ω–∞ —é—Ä. –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îî‚îÄ‚îÄ SMSAuthModal.tsx        # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```

### Permissions
```
lib/permissions/
‚îî‚îÄ‚îÄ request-permissions.ts  # –ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```

---

**–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –æ –ø—Ä–æ–µ–∫—Ç–µ.**  
**–û–±–Ω–æ–≤–ª—è–π –µ–≥–æ –ø—Ä–∏ –ª—é–±—ã—Ö –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö!**

**Last updated:** 2025-10-14  
**Maintainer:** AI Assistant + Development Team  
**Version:** 2.1 (—Å User Flow –∏ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π)

