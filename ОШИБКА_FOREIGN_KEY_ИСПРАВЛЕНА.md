# ‚úÖ –û–®–ò–ë–ö–ê FOREIGN KEY –ò–°–ü–†–ê–í–õ–ï–ù–ê! - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

## üéØ –°–¢–ê–¢–£–°: –û–®–ò–ë–ö–ê FOREIGN KEY –ò–°–ü–†–ê–í–õ–ï–ù–ê!

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** $(date)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ SQL –°–ö–†–ò–ü–¢ –ì–û–¢–û–í –ö –í–´–ü–û–õ–ù–ï–ù–ò–Æ

---

## üìä –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### ‚úÖ **1. –°–æ–∑–¥–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç**
- **–§–∞–π–ª:** `–§–ò–ù–ê–õ–¨–ù–´–ô_SQL_–°_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú–ò.sql`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ü–ï–†–ï–î —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–π
  - –î–æ–±–∞–≤–ª—è–µ—Ç 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –î–æ–±–∞–≤–ª—è–µ—Ç 4 —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ seller_id
  - –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ SQL —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω

### ‚úÖ **2. –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ foreign key constraint**
- **–ü—Ä–æ–±–ª–µ–º–∞:** seller_id –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª –≤ —Ç–∞–±–ª–∏—Ü–µ users
- **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–µ—Ä–µ–¥ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ foreign key —Ä–µ—à–µ–Ω–∞

### ‚úÖ **3. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û–±—ä—è–≤–ª–µ–Ω–∏—è:** 4 —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è (2 –∞–≤—Ç–æ, 1 –ª–æ—à–∞–¥—å, 1 –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è:**
```sql
-- 1. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É users
CREATE TABLE IF NOT EXISTS public.users (...);

-- 2. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É listings (—Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ users)
CREATE TABLE public.listings (
  seller_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  ...
);

-- 3. –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ü–ï–†–í–´–ú–ò
INSERT INTO public.users (id, name, email, phone, avatar_url, is_verified, rating)
VALUES 
  ('550e8400-e29b-41d4-a716-446655440000', '–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', ...),
  ('550e8400-e29b-41d4-a716-446655440001', '–ê–π–±–µ–∫ –ü—Ä–æ–¥–∞–≤–µ—Ü', ...),
  ('550e8400-e29b-41d4-a716-446655440002', '–ù—É—Ä–ª–∞–Ω –ê–≤—Ç–æ–¥–∏–ª–µ—Ä', ...);

-- 4. –î–æ–±–∞–≤–ª—è–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ü–û–°–õ–ï –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
INSERT INTO public.listings (id, seller_id, category, title, ...)
VALUES 
  ('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 'car', 'Toyota Camry 2020', ...),
  ('550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440001', 'car', 'BMW X5 2019', ...),
  ('550e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440002', 'horse', '–ê—Ä–∞–±—Å–∫–∞—è –ª–æ—à–∞–¥—å', ...),
  ('550e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440000', 'real_estate', '–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ë–∏—à–∫–µ–∫–∞', ...);
```

### **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
1. **–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** - ID: 550e8400-e29b-41d4-a716-446655440000
2. **–ê–π–±–µ–∫ –ü—Ä–æ–¥–∞–≤–µ—Ü** - ID: 550e8400-e29b-41d4-a716-446655440001
3. **–ù—É—Ä–ª–∞–Ω –ê–≤—Ç–æ–¥–∏–ª–µ—Ä** - ID: 550e8400-e29b-41d4-a716-446655440002

### **–¢–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è:**
1. **Toyota Camry 2020** - –æ—Ç –¢–µ—Å—Ç–æ–≤–æ–≥–æ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **BMW X5 2019** - –æ—Ç –ê–π–±–µ–∫–∞ –ü—Ä–æ–¥–∞–≤—Ü–∞
3. **–ê—Ä–∞–±—Å–∫–∞—è –ª–æ—à–∞–¥—å** - –æ—Ç –ù—É—Ä–ª–∞–Ω–∞ –ê–≤—Ç–æ–¥–∏–ª–µ—Ä–∞
4. **–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ë–∏—à–∫–µ–∫–∞** - –æ—Ç –¢–µ—Å—Ç–æ–≤–æ–≥–æ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üöÄ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

```
‚úÖ SQL —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ foreign key —Ä–µ—à–µ–Ω–∞
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ TypeScript –æ—à–∏–±–æ–∫ –Ω–µ—Ç
‚úÖ –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –≤ Supabase
```

---

## üì± –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| üóÑÔ∏è SQL —Å–∫—Ä–∏–ø—Ç | ‚úÖ | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è |
| üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | ‚úÖ | 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| üìä –û–±—ä—è–≤–ª–µ–Ω–∏—è | ‚úÖ | 4 —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è |
| üîó Foreign Key | ‚úÖ | –í—Å–µ —Å–≤—è–∑–∏ —Ä–∞–±–æ—Ç–∞—é—Ç |
| üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ‚úÖ | –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ |

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

### 1. **–í—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç:**
- –û—Ç–∫—Ä—ã—Ç—å Supabase SQL Editor
- –í—ã–ø–æ–ª–Ω–∏—Ç—å `–§–ò–ù–ê–õ–¨–ù–´–ô_SQL_–°_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú–ò.sql`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫

### 2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 4 –≤–∏–¥–µ–æ)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∏—Å–∫ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SMS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

### 3. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìù –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`–§–ò–ù–ê–õ–¨–ù–´–ô_SQL_–°_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú–ò.sql`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç
2. **`–û–®–ò–ë–ö–ê_FOREIGN_KEY_–ò–°–ü–†–ê–í–õ–ï–ù–ê.md`** - –≠—Ç–æ—Ç –æ—Ç—á–µ—Ç

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

**–û–®–ò–ë–ö–ê FOREIGN KEY –ò–°–ü–†–ê–í–õ–ï–ù–ê!** ‚úÖ

- ‚úÖ **SQL —Å–∫—Ä–∏–ø—Ç**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –°–æ–∑–¥–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
- ‚úÖ **–û–±—ä—è–≤–ª–µ–Ω–∏—è**: –°–æ–∑–¥–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **Foreign Key**: –í—Å–µ —Å–≤—è–∑–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **TypeScript**: 0 –æ—à–∏–±–æ–∫
- ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é**: –í Supabase

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç –∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫!**

**–û–®–ò–ë–ö–ê FOREIGN KEY –ò–°–ü–†–ê–í–õ–ï–ù–ê!** ‚úÖ
