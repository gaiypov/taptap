# üöó 360Auto MVP - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
./update-supabase-keys.sh

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ
# –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ Supabase URL –∏ –∫–ª—é—á
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ –∏–∑ Supabase Dashboard**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com)
   - –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
   - **Settings** ‚Üí **API**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Project URL** –∏ **anon public key**

2. **–û–±–Ω–æ–≤–∏—Ç–µ app.json**:
   ```json
   {
     "expo": {
       "extra": {
         "EXPO_PUBLIC_SUPABASE_URL": "https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç-id.supabase.co",
         "EXPO_PUBLIC_SUPABASE_ANON_KEY": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
       }
     }
   }
   ```

3. **–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª**:
   ```bash
   cp env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏
   ```

## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å—Ö–µ–º—É**:
   - –í Supabase Dashboard ‚Üí **SQL Editor**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `supabase-schema.sql`
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–º–∞–Ω–¥—ã

2. **–°–æ–∑–¥–∞–π—Ç–µ Storage buckets**:
   - **Storage** ‚Üí **New bucket**
   - `car-videos` (–¥–ª—è –≤–∏–¥–µ–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
   - `car-thumbnails` (–¥–ª—è –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Expo
npx expo start --port 8082 --clear

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Expo Go
# –ù–∞–∂–º–∏—Ç–µ "üß™ Test Supabase"
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
360AutoMVP/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ test-supabase.tsx    # –¢–µ—Å—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îî‚îÄ‚îÄ (tabs)/
‚îÇ       ‚îî‚îÄ‚îÄ index.tsx        # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –∫–Ω–æ–ø–∫–æ–π —Ç–µ—Å—Ç–∞
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts         # Supabase –∫–ª–∏–µ–Ω—Ç –∏ API
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts          # –•—É–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ useCars.ts          # –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Auth/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthScreen.tsx  # –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ Cars/
‚îÇ       ‚îî‚îÄ‚îÄ CarList.tsx     # –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
‚îú‚îÄ‚îÄ supabase-schema.sql     # SQL —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ update-supabase-keys.sh # –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–µ–π
‚îî‚îÄ‚îÄ env.example             # –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –∫–ª—é—á–µ–π
./update-supabase-keys.sh

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npx expo start --port 8082 --clear

# –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript
npx tsc --noEmit

# –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
cd backend && PORT=3301 npm run dev
```

## üéØ –§—É–Ω–∫—Ü–∏–∏

- ‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å Supabase Auth
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å PostgreSQL
- ‚úÖ **Storage** –¥–ª—è –≤–∏–¥–µ–æ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **Realtime** –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è —á–∞—Ç–æ–≤
- ‚úÖ **RLS** –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## üö® Troubleshooting

### –û—à–∏–±–∫–∞ "Missing Supabase credentials"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π –≤ `app.json`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Expo –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –û—à–∏–±–∫–∞ "Invalid API key"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `anon` –∫–ª—é—á, –∞ –Ω–µ `service_role`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω –≤ Supabase Dashboard

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å—Ö–µ–º—É)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Supabase Documentation](https://supabase.com/docs)
- [Expo Constants](https://docs.expo.dev/versions/latest/sdk/constants/)
- [React Native AsyncStorage](https://react-native-async-storage.github.io/async-storage/)
