# üöÄ –í–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç–æ—è—â–µ–π SMS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ **SMS —Å–µ—Ä–≤–∏—Å —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** –≤ `services/sms.ts`  
‚ùå **–ù–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã API –∫–ª—é—á–∏** (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ)

---

## üîë –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ –æ—Ç Nikita.kg

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å:** https://smspro.nikita.kg/myProfile.jsp
2. **–ü–æ–ª—É—á–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å** –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **–î–æ–±–∞–≤—å—Ç–µ –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è:** `bat-bat.kg` –∏–ª–∏ `360Auto`
4. **–ü–æ–ø–æ–ª–Ω–∏—Ç–µ —Å—á–µ—Ç:** —á–µ—Ä–µ–∑ Pay24 –∏–ª–∏ –≠–õ–°–û–ú (–æ—Ç 1.24 —Å–æ–º –∑–∞ SMS)

---

## ‚öôÔ∏è –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` **–í –ö–û–†–ù–ï** –ø—Ä–æ–µ–∫—Ç–∞ `/Users/ulanbekgaiypov/360AutoMVP/.env`:

```env
# SMS API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Nikita.kg
EXPO_PUBLIC_SMS_LOGIN=–≤–∞—à_–ª–æ–≥–∏–Ω_–æ—Ç_nikita
EXPO_PUBLIC_SMS_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_–æ—Ç_nikita
EXPO_PUBLIC_SMS_SENDER=bat-bat.kg
EXPO_PUBLIC_SMS_API_URL=https://smspro.nikita.kg/api/message
```

### –ü—Ä–∏–º–µ—Ä —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```env
EXPO_PUBLIC_SMS_LOGIN=mycompany123
EXPO_PUBLIC_SMS_PASSWORD=secretpassword456
EXPO_PUBLIC_SMS_SENDER=bat-bat.kg
EXPO_PUBLIC_SMS_API_URL=https://smspro.nikita.kg/api/message
```

---

## üìù –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å .env –≤ .gitignore

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env –ù–ï –ø–æ–ø–∞–¥–µ—Ç –≤ Git
echo ".env" >> .gitignore
```

---

## üß™ –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```javascript
import { smsService } from './services/sms';

console.log('SMS Status:', smsService.getStatus());
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
// {
//   configured: true,
//   apiUrl: "https://smspro.nikita.kg/api/message",
//   sender: "bat-bat.kg",
//   hasLogin: true,
//   hasPassword: true,
//   login: "myc***"
// }
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ SMS:
```javascript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–µ
const phone = '+996555123456';
const code = await smsService.sendVerificationCode(phone);
console.log('–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:', code);
```

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:

### ‚ùå –ë–ï–ó .env —Ñ–∞–π–ª–∞ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ):
```javascript
// services/sms.ts –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–ª—é—á–∏
const SMS_CONFIGURED = !!(SMS_LOGIN && SMS_PASSWORD);

if (!SMS_CONFIGURED) {
  console.warn('‚ö†Ô∏è SMS API –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!');
  console.log('üîë –ö–û–î –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø: 1234');
  return code; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏, SMS –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

---

### ‚úÖ –° .env —Ñ–∞–π–ª–æ–º (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏):
```javascript
if (!SMS_CONFIGURED) {
  // –≠—Ç–æ—Ç –±–ª–æ–∫ –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Nikita.kg API
const result = await this.sendSMS(phone, message);

if (result.success) {
  console.log(`‚úÖ SMS —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ ${phone}`);
  console.log(`üì¨ Message ID: ${result.messageId}`);
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** SMS –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π –Ω–æ–º–µ—Ä —á–µ—Ä–µ–∑ Nikita.kg

---

## üì± –§–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–æ–≤

–ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω—Å–∫–∏–µ –Ω–æ–º–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
- `+996555123456`
- `+996 555 123 456`
- `996555123456`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∫–∞ –≤ `services/auth.ts`:
```javascript
function formatKyrgyzPhone(phone: string): string | null {
  const cleaned = phone.replace(/\D/g, '');
  
  if (cleaned.startsWith('996') && cleaned.length === 12) {
    return '+' + cleaned;
  }
  if (cleaned.startsWith('0') && cleaned.length === 10) {
    return '+996' + cleaned.substring(1);
  }
  if (cleaned.length === 9) {
    return '+996' + cleaned;
  }
  
  return null;
}
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ `.env` —Ñ–∞–π–ª **–ù–ï –ö–û–ú–ú–ò–¢–ò–¢–°–Ø** –≤ Git  
‚úÖ –ö–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ  
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤  
‚úÖ –ü–∞—Ä–æ–ª–∏ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö (—Ç–æ–ª—å–∫–æ `myc***`)

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å SMS:
```javascript
import { smsService } from '@/services/sms';

// –í –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
useEffect(() => {
  const status = smsService.getStatus();
  console.log('üì± SMS Config:', status);
}, []);
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É:
```javascript
const testSMS = async () => {
  const result = await smsService.sendSMS('+996555123456', '–¢–µ—Å—Ç');
  console.log('Result:', result);
};
```

---

## ‚úÖ Checklist

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ production:

- [ ] –°–æ–∑–¥–∞–Ω `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –æ—Ç Nikita.kg
- [ ] `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ SMS –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä
- [ ] –ü–æ–ø–æ–ª–Ω–µ–Ω —Å—á–µ—Ç –Ω–∞ smspro.nikita.kg
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ verification –∫–æ–¥–æ–≤

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Metro
# Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω npm start

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npm start -- --reset-cache

# Expo –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ SMS –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```
   üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ XML –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞: https://smspro.nikita.kg/api/message
   üì• –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞: ...
   ```

2. **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**
   - `‚ùå Login incorrect` - –Ω–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω
   - `‚ùå Password incorrect` - –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å
   - `‚ùå Insufficient funds` - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
   - `‚ùå Invalid sender` - –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–æ—Ñ–∏–ª–µ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å:** https://smspro.nikita.kg/myProfile.jsp

---

**–î–∞—Ç–∞:** 2025-10-14  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è API –∫–ª—é—á–µ–π  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏

