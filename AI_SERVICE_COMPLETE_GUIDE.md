# AI Service with API Keys - Complete Implementation

## üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π AI —Å–µ—Ä–≤–∏—Å —Å –∫–ª—é—á–∞–º–∏

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
services/ai/
‚îú‚îÄ‚îÄ config.ts          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ utils.ts           # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI
‚îú‚îÄ‚îÄ index.ts           # –û—Å–Ω–æ–≤–Ω–æ–π AI —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ claude.ts          # Claude API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ openai.ts          # OpenAI API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ google.ts          # Google Vision API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

services/ai.ts         # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
```

## üîß –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (services/ai.ts)

### –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞
```typescript
export async function analyzeCarVideo(
  videoUri: string,
  onProgress?: (stage: string, progress: number) => void
): Promise<Partial<Car>>
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π** - `checkAPIKeys()`
2. **–í—ã–±–æ—Ä AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** - `selectAvailableAI()`
3. **Mock —Ä–µ–∂–∏–º** - –µ—Å–ª–∏ –Ω–µ—Ç –∫–ª—é—á–µ–π –∏–ª–∏ –≤–∫–ª—é—á–µ–Ω USE_MOCK
4. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤** - –º–∞–∫—Å–∏–º—É–º 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
5. **AI –∞–Ω–∞–ª–∏–∑** - —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏** - `logAPICost()`
7. **Fallback –Ω–∞ mock** - –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤ development

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:
- **Claude** - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π (—Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π)
- **OpenAI** - –†–µ–∑–µ—Ä–≤–Ω—ã–π
- **Google Vision** - –î–ª—è OCR –∏ –¥–µ—Ç–µ–∫—Ü–∏–∏
- **Mock** - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ü§ñ Claude API (services/ai/claude.ts)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```typescript
// –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
analyzeWithClaude(frames: string[], options?: any): Promise<any>

// –ë—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
quickIdentifyWithClaude(imageBase64: string): Promise<CarInfo>
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude-3-Sonnet –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude-3-Haiku –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤

### –ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ:

1. –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
   - brand: –º–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
   - model: –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
   - year: –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞
   - color: —Ü–≤–µ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—è
   - mileage: –ø—Ä–æ–±–µ–≥

2. –°–û–°–¢–û–Ø–ù–ò–ï –ê–í–¢–û–ú–û–ë–ò–õ–Ø:
   - condition: –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
   - conditionScore: –æ—Ü–µ–Ω–∫–∞ –æ—Ç 0 –¥–æ 100
   - damages: –º–∞—Å—Å–∏–≤ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π

3. –û–°–û–ë–ï–ù–ù–û–°–¢–ò:
   - features: –º–∞—Å—Å–∏–≤ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π

4. –¶–ï–ù–ê:
   - estimatedPrice: –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
```

## üß† OpenAI API (services/ai/openai.ts)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```typescript
// –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
analyzeWithOpenAI(frames: string[], analysisType: string, options?: any): Promise<any>

// –ë—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
quickIdentifyWithOpenAI(imageBase64: string): Promise<CarInfo>

// –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π
detectDamagesWithOpenAI(imageBase64: string): Promise<DamageInfo>
```

### –¢–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞:
- **full_analysis** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- **quick_identify** - –ë—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **damage_detection** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPT-4 Vision –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üëÅÔ∏è Google Vision API (services/ai/google.ts)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```typescript
// –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
analyzeWithGoogleVision(imageBase64: string, analysisType: string): Promise<any>

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–æ–±–µ–≥–∞
extractMileageWithGoogle(imageBase64: string): Promise<MileageInfo>

// –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π
detectDamagesWithGoogle(imageBase64: string): Promise<DamageInfo>
```

### –¢–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞:
- **full** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- **ocr** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (–ø—Ä–æ–±–µ–≥, –≥–æ–¥)
- **object_detection** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- **text_detection** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

### –§—É–Ω–∫—Ü–∏–∏ Google Vision:
- **LABEL_DETECTION** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä–∫–∏, —Ü–≤–µ—Ç–∞
- **TEXT_DETECTION** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–æ–±–µ–≥–∞, –≥–æ–¥–∞
- **OBJECT_LOCALIZATION** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π
- **WEB_DETECTION** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## üîë –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# .env —Ñ–∞–π–ª
EXPO_PUBLIC_OPENAI_API_KEY=sk-your-openai-key
EXPO_PUBLIC_CLAUDE_API_KEY=sk-ant-your-claude-key
EXPO_PUBLIC_GOOGLE_API_KEY=AIza-your-google-key
EXPO_PUBLIC_ROBOFLOW_API_KEY=your-roboflow-key

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
EXPO_PUBLIC_AI_MODE=development
EXPO_PUBLIC_USE_MOCK=true
```

### app.json:
```json
{
  "extra": {
    "EXPO_PUBLIC_AI_MODE": "development",
    "EXPO_PUBLIC_USE_MOCK": "true"
  }
}
```

## üí∞ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫–æ–Ω–æ–º–∏–∏:
```typescript
const AI_CONFIG = {
  MAX_IMAGES_PER_ANALYSIS: 3,    // –¢–æ–ª—å–∫–æ 3 –ª—É—á—à–∏—Ö –∫–∞–¥—Ä–∞
  IMAGE_QUALITY: 0.7,            // –°–∂–∞—Ç–∏–µ –¥–æ 70%
  ENABLE_CACHING: true,          // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  PRIMARY_AI: 'claude',          // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç Claude (–¥–µ—à–µ–≤–ª–µ)
};
```

### –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º:
- **Claude** - $0.023 –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **OpenAI** - $0.03 –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ  
- **Google** - $0.0015 –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **Mock** - $0 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏:
```typescript
logAPICost('claude', 3); // $0.069 (claude, 3 images)
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```typescript
import { analyzeCarVideo, quickIdentifyCar, AI_CONFIG, aiUtils } from '@/services/ai';

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
aiUtils.logAIConfiguration();

// –ê–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
const result = await analyzeCarVideo(videoUri, (stage, progress) => {
  console.log(`${stage}: ${progress}%`);
});

// –ë—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
const carInfo = await quickIdentifyCar(imageUri);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```typescript
const status = aiUtils.getAIStatus();
console.log('Selected provider:', status.selectedProvider);
console.log('Has API keys:', status.hasKeys);
console.log('Available providers:', status.availableProviders);
```

### –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏:
```typescript
const cost = aiUtils.estimateAnalysisCost(3, 'claude');
console.log(`Estimated cost: $${cost.toFixed(4)}`);
```

## üîÑ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### Development —Ä–µ–∂–∏–º:
```json
{
  "EXPO_PUBLIC_AI_MODE": "development",
  "EXPO_PUBLIC_USE_MOCK": "true"
}
```
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Mock —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- Fallback –Ω–∞ mock –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### Production —Ä–µ–∂–∏–º:
```json
{
  "EXPO_PUBLIC_AI_MODE": "production",
  "EXPO_PUBLIC_USE_MOCK": "false"
}
```
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–∞–ª—å–Ω—ã–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –°—Ç—Ä–æ–≥–∏–µ –æ—à–∏–±–∫–∏ –±–µ–∑ fallback
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üõ†Ô∏è Mock —Ä–µ–∂–∏–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π mock:
- –í–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ API –∫–ª—é—á–µ–π
- –í–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ `USE_MOCK: true`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### Mock –¥–∞–Ω–Ω—ã–µ:
```typescript
function getMockCarData(): Partial<Car> {
  return {
    brand: 'Toyota',
    model: 'Camry',
    year: 2020,
    mileage: 45120,
    location: '–ë–∏—à–∫–µ–∫',
    aiAnalysis: {
      condition: 'good',
      conditionScore: 85,
      damages: [
        {
          type: 'scratch',
          severity: 'minor',
          location: '–ø—Ä–∞–≤–∞—è –¥–≤–µ—Ä—å',
          confidence: 0.87,
        },
      ],
      estimatedPrice: { min: 2400000, max: 2600000 },
      features: ['–ö–æ–∂–∞–Ω—ã–π —Å–∞–ª–æ–Ω', '–ö–∞–º–µ—Ä–∞'],
    },
  };
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–ê–ñ–ù–û: API –∫–ª—é—á–∏ –≤ –∫–ª–∏–µ–Ω—Ç–µ
**–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!**

### –ü—Ä–æ–±–ª–µ–º—ã:
- API –∫–ª—é—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–π
- –ù–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ç–µ—á–∫–∏ –≤ production

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **backend API** (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```typescript
// –í development —Ä–µ–∂–∏–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
console.log('üîë Available APIs:', availableKeys);
console.log(`ü§ñ Using AI: ${selectedAI}`);
console.log(`üí∞ AI Cost: $${cost.toFixed(4)} (${provider}, ${imageCount} images)`);
```

### –ú–µ—Ç—Ä–∏–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∫–∞–∂–¥–æ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å AI –∑–∞–ø—Ä–æ—Å–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

## üõ†Ô∏è Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **"No AI API keys found"**
   ```typescript
   const keys = checkAPIKeys();
   console.log('Available keys:', keys);
   ```

2. **"Invalid API key format"**
   - OpenAI: –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `sk-`
   - Claude: –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `sk-ant-`
   - Google: –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `AIza`

3. **"High API costs"**
   ```typescript
   // –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   MAX_IMAGES_PER_ANALYSIS: 2
   
   // –í–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   ENABLE_CACHING: true
   ```

4. **"API rate limit exceeded"**
   - –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `USE_MOCK: true`
- –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∫–ª—é—á–∏ –≤ –∫–ª–∏–µ–Ω—Ç–µ**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ backend API (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude API
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Vision API
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ Mock —Ä–µ–∂–∏–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

–¢–µ–ø–µ—Ä—å AI —Å–µ—Ä–≤–∏—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API –∫–ª—é—á–∞–º–∏! üöÄ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å backend API –≤–º–µ—Å—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–ª—é—á–µ–π.
