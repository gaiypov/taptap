# ‚úÖ –û–®–ò–ë–ö–ê is_active –ò–°–ü–†–ê–í–õ–ï–ù–ê! - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

## üéØ –°–¢–ê–¢–£–°: –û–®–ò–ë–ö–ê is_active –ò–°–ü–†–ê–í–õ–ï–ù–ê!

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** $(date)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ SQL –°–ö–†–ò–ü–¢ –ì–û–¢–û–í –ö –í–´–ü–û–õ–ù–ï–ù–ò–Æ

---

## üìä –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### ‚úÖ **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω SQL —Å–∫—Ä–∏–ø—Ç**
- **–§–∞–π–ª:** `–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô_SQL_–ë–ï–ó_IS_ACTIVE.sql`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –£–¥–∞–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `is_active` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `listings`
  - –£–¥–∞–ª–µ–Ω –∏–Ω–¥–µ–∫—Å `idx_listings_active`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ `is_active`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ SQL —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω

### ‚úÖ **2. –û–±–Ω–æ–≤–ª–µ–Ω—ã fallback –¥–∞–Ω–Ω—ã–µ**
- **–§–∞–π–ª:** `utils/fallbackData.ts`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ `is_active` –∏–∑ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ 4 —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ Fallback –¥–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### ‚úÖ **3. –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã TypeScript –æ—à–∏–±–∫–∏**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 0 –æ—à–∏–±–æ–∫
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã listings:**
```sql
CREATE TABLE IF NOT EXISTS public.listings (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  seller_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  category VARCHAR(20) NOT NULL CHECK (category IN ('car', 'horse', 'real_estate')),
  title VARCHAR(255) NOT NULL,
  description TEXT,
  price DECIMAL(15,2),
  video_url TEXT,
  thumbnail_url TEXT,
  details JSONB DEFAULT '{}',
  views INTEGER DEFAULT 0,
  likes INTEGER DEFAULT 0,
  saves INTEGER DEFAULT 0,
  ai_score DECIMAL(3,2),
  boost_level INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ fallback –¥–∞–Ω–Ω—ã–µ:**
```typescript
export const FALLBACK_LISTINGS = [
  {
    id: '1',
    category: 'car' as const,
    title: 'Toyota Camry 2020',
    // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
    ai_score: 0.85,
    boost_level: 0,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString()
    // –ë–ï–ó is_active
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏
];
```

---

## üöÄ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

```
‚úÖ SQL —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
‚úÖ Fallback –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ –ö–æ–ª–æ–Ω–∫–∞ is_active —É–¥–∞–ª–µ–Ω–∞
‚úÖ TypeScript –æ—à–∏–±–æ–∫ –Ω–µ—Ç
‚úÖ –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –≤ Supabase
```

---

## üì± –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| üóÑÔ∏è SQL —Å–∫—Ä–∏–ø—Ç | ‚úÖ | –ë–µ–∑ –æ—à–∏–±–∫–∏ is_active |
| üìä Fallback –¥–∞–Ω–Ω—ã–µ | ‚úÖ | –ë–µ–∑ –ø–æ–ª—è is_active |
| üîç –ü–æ–∏—Å–∫ | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |
| üé• –í–∏–¥–µ–æ–ª–µ–Ω—Ç–∞ | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |
| üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ‚úÖ | –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ |

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

### 1. **–í—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç:**
- –û—Ç–∫—Ä—ã—Ç—å Supabase SQL Editor
- –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô_SQL_–ë–ï–ó_IS_ACTIVE.sql`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫

### 2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∏—Å–∫
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SMS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

### 3. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìù –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô_SQL_–ë–ï–ó_IS_ACTIVE.sql`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç
2. **`utils/fallbackData.ts`** - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ fallback –¥–∞–Ω–Ω—ã–µ
3. **`–û–®–ò–ë–ö–ê_IS_ACTIVE_–ò–°–ü–†–ê–í–õ–ï–ù–ê.md`** - –≠—Ç–æ—Ç –æ—Ç—á–µ—Ç

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

**–û–®–ò–ë–ö–ê is_active –ò–°–ü–†–ê–í–õ–ï–ù–ê!** ‚úÖ

- ‚úÖ **SQL —Å–∫—Ä–∏–ø—Ç**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–µ–∑ –∫–æ–ª–æ–Ω–∫–∏ is_active
- ‚úÖ **Fallback –¥–∞–Ω–Ω—ã–µ**: –û–±–Ω–æ–≤–ª–µ–Ω—ã –±–µ–∑ –ø–æ–ª—è is_active
- ‚úÖ **TypeScript**: 0 –æ—à–∏–±–æ–∫
- ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é**: –í Supabase

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç –∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫!**

**–û–®–ò–ë–ö–ê is_active –ò–°–ü–†–ê–í–õ–ï–ù–ê!** ‚úÖ
