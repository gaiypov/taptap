# Инструкция по загрузке тестовых видео

## Быстрый старт

1. **Создайте файл `.env` в корне проекта**:
   ```bash
   touch .env
   ```

2. **Добавьте SERVICE_ROLE_KEY в `.env`**:
   ```
   SUPABASE_SERVICE_ROLE_KEY=ваш-service-role-key-здесь
   ```
   
   **Где взять ключ:**
   - Откройте Supabase Dashboard
   - Перейдите в Settings > API
   - Найдите "service_role" key (НЕ anon key!)
   - Скопируйте его

3. **Запустите скрипт**:
   ```bash
   npm run seed:videos
   ```

## Что делает скрипт

Скрипт загружает 9 тестовых видео:
- **3 автомобиля** (Toyota Camry, BMW X5, Honda Civic)
- **3 лошади** (Арабский скакун, Ахалтекинская, Орловский рысак)
- **3 недвижимости** (3-комнатная квартира, Частный дом, Студия)

Все видео используют публичные тестовые URL и будут сразу активны в системе.

## Требования

- Тестовый пользователь с ID: `550e8400-e29b-41d4-a716-446655440000`
- Если пользователя нет, выполните SQL в Supabase:

```sql
INSERT INTO public.users (id, name, phone, avatar_url, is_verified, rating)
VALUES (
  '550e8400-e29b-41d4-a716-446655440000',
  'Тестовый Пользователь',
  '+996555123456',
  'https://i.pravatar.cc/150?img=1',
  true,
  4.8
)
ON CONFLICT (id) DO NOTHING;
```

## Исправленные ошибки

✅ Исправлены названия полей:
- `brand` → `make` для автомобилей
- Убраны несуществующие поля (`color`, `transmission`, `fuel_type` и т.д.)
- `gender` переведен в английский формат (`stallion`, `mare`, `gelding`)
- `property_type` переведен в английский формат (`apartment`, `house`)
- Убран `moderation_status` (не существует в схеме)
- Исправлены все поля для соответствия реальной структуре БД

✅ Добавлена обработка ошибок и валидация

